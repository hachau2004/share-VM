✅ Bước 1 — In ra đúng file configtx mà configtxgen đang dùng

Chạy lệnh này:

echo $FABRIC_CFG_PATH
ls -l $FABRIC_CFG_PATH


❗ Nếu nó không trỏ đến:

/home/hachau/fabric-samples/bankchain/configtx


→ THÌ CHẮC CHẮN LỖI.

✅ Bước 2 — BẮT BUỘC chạy đúng lệnh set path

Chạy:

export FABRIC_CFG_PATH=$PWD/configtx


Sau đó verify:

echo $FABRIC_CFG_PATH


Kết quả phải là:

/home/hachau/fabric-samples/bankchain/configtx

✅ Bước 3 — In ra file mà configtxgen đang đọc

Chạy:

sed -n '1,200p' $FABRIC_CFG_PATH/configtx.yaml


➡️ GỬI ANH ẢNH OUTPUT NÀY.
Anh kiểm tra xem đó có đúng là file anh gửi hay không.

✅ VÌ SAO ANH KHẲNG ĐỊNH 100% FILE EM ĐANG DÙNG SAI?

Vì nếu dùng đúng file anh gửi, configtxgen sẽ in log như sau:

Loaded configuration: /home/.../bankchain/configtx/configtx.yaml


và KHÔNG BAO GIỜ có lỗi:

no policies defined


=> Lỗi này chỉ xảy ra khi file configtx.yaml KHÁC bị load — file đó thiếu ChannelDefaults hoặc OrdererDefaults.

✅ ANH ĐÃ SỬA BỘ POLICIES HOÀN CHỈNH

→ Em chỉ cần chắc chắn configtxgen dùng đúng file.

✅ EM CHỈ CẦN LÀM DUY NHẤT 3 LỆNH SAU RỒI GỬI ANH ẢNH:
echo $FABRIC_CFG_PATH
ls -l $FABRIC_CFG_PATH

sed -n '1,200p' $FABRIC_CFG_PATH/configtx.yaml


Chỉ cần 3 cái này → anh sửa DỨT ĐIỂM cho em.
