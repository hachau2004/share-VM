✅ 1. Vào container CLI

Chạy:

docker exec -it cli bash


Bạn sẽ thấy prompt như:

root@cli:/opt/gopath/src/github.com/hyperledger/fabric/peer#

✅ 2. Export biến môi trường cho Peer0 Bank A

Chạy từng dòng:

export CORE_PEER_LOCALMSPID="bankaMSP"
export CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/banka.example.com/users/Admin@banka.example.com/msp
export CORE_PEER_ADDRESS=peer0.banka.example.com:7051
export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/banka.example.com/peers/peer0.banka.example.com/tls/ca.crt

✅ 3. Tạo Channel (bankchannel)

Chạy:

export CHANNEL_NAME=bankchannel


Rồi tạo channel:

peer channel create \
  -o orderer.example.com:7050 \
  -c $CHANNEL_NAME \
  -f ./channel-artifacts/channel.tx \
  --outputBlock ./channel-artifacts/bankchannel.block \
  --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/tls/ca.crt


✅ Nếu thành công sẽ hiện:

INFO Successfully created channel bankchannel

✅ 4. Join Peer0 Bank A vào Channel
peer channel join -b ./channel-artifacts/bankchannel.block
