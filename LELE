✅ 1️⃣ Kiểm tra xem bạn có file configtx/configtx.yaml hay chưa

Chạy trên terminal:

ls -R configtx


Kết quả phải thấy:

configtx/configtx.yaml


Nếu KHÔNG có → bạn đã lưu nhầm chỗ.

✅ 2️⃣ Kiểm tra biến FABRIC_CFG_PATH đang trỏ đi đâu

Chạy:

echo $FABRIC_CFG_PATH


Kết quả đúng phải là:

/home/hachau/fabric-samples/bankchain/configtx


Nếu KHÔNG đúng thì chỉnh lại:

export FABRIC_CFG_PATH=$PWD/configtx


Sau đó kiểm tra lại:

echo $FABRIC_CFG_PATH

✅ 3️⃣ Kiểm tra file thật sự có cấu hình chưa

Chạy:

sed -n '1,80p' $FABRIC_CFG_PATH/configtx.yaml


Phải hiện ra đoạn như mình gửi:

Organizations:
  - &OrdererOrg
    Name: OrdererOrg


Nếu file trống → bạn đã lưu nhầm.

✅ 4️⃣ Chạy lại configtxgen
configtxgen -profile BankchainChannel \
  -outputCreateChannelTx ./channel-artifacts/channel.tx \
  -channelID $CHANNEL_NAME


Lần này chắc chắn phải chạy được ✅

✅ 5️⃣ Giải thích vì sao lỗi vẫn xuất hiện

Lỗi:

'' has invalid keys: Consortiums


Chỉ xuất hiện khi:

✅ configtxgen không tìm được file configtx.yaml
✅ hoặc file đọc vào đang rỗng
✅ hoặc FABRIC_CFG_PATH không đúng
✅ hoặc bạn chạy configtxgen từ thư mục sai

Đây KHÔNG phải lỗi trong nội dung file YAML.

✅ 6️⃣ Hãy gửi cho mình 3 lệnh sau (copy-paste output)

Chạy và gửi toàn bộ màn hình:

pwd
echo $FABRIC_CFG_PATH
ls -R configtx
sed -n '1,80p' configtx/configtx.yaml


→ Mình sẽ chỉ chính xác bạn đang sai chỗ nào trong đường dẫn.
