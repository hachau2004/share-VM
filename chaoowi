hachau@hachau:~/fabric-samples/bankchain$ docker exec -it cli bash
root@ca7633c40326:/opt/gopath/src/github.com/hyperledger/fabric/peer# export CORE_PEER_LOCALMSPID="bankaMSP"
export CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/banka.example.com/users/Admin@banka.example.com/msp
export CORE_PEER_ADDRESS=peer0.banka.example.com:7051
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/banka.example.com/peers/peer0.banka.example.com/tls/ca.crt

export CHANNEL_NAME=bankchannel
root@ca7633c40326:/opt/gopath/src/github.com/hyperledger/fabric/peer# getent hosts peer0.banka.example.com
root@ca7633c40326:/opt/gopath/src/github.com/hyperledger/fabric/peer# 



‚úÖ B∆∞·ªõc 1 ‚Äî Export l·∫°i bi·∫øn m√¥i tr∆∞·ªùng ƒë√∫ng

üîµ V√ÄO TRONG CLI:

docker exec -it cli bash


R·ªìi ch·∫°y:

export CORE_PEER_LOCALMSPID="bankaMSP"
export CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/banka.example.com/users/Admin@banka.example.com/msp
export CORE_PEER_ADDRESS=peer0.banka.example.com:7051
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/banka.example.com/peers/peer0.banka.example.com/tls/ca.crt

export CHANNEL_NAME=bankchannel

‚úÖ B∆∞·ªõc 2 ‚Äî Test DNS xem peer c√≥ ph·∫£n h·ªìi kh√¥ng

Trong CLI:

getent hosts peer0.banka.example.com


‚úÖ N·∫øu tr·∫£ v·ªÅ IP ‚Üí OK
‚ùå N·∫øu KH√îNG tr·∫£ v·ªÅ g√¨ ‚Üí m√¨nh s·∫Ω ki·ªÉm tra l·∫°i compose cho b·∫°n.

‚úÖ B∆∞·ªõc 3 ‚Äî Join peer v√†o channel
peer channel join -b ./channel-artifacts/bankchannel.block

‚úÖ N·∫øu v·∫´n l·ªói ‚Üí ch·∫°y l·ªánh DEBUG n√†y v√† g·ª≠i k·∫øt qu·∫£ cho m√¨nh

Trong CLI:

env | grep CORE_PEER


Ngo√†i host:

docker inspect peer0.banka.example.com | grep 7051 -n


‚Üí M√¨nh s·∫Ω s·ª≠a d·ª©t ƒëi·ªÉm.

‚úÖ Network OK
‚úÖ Genesis OK
‚úÖ Channel.tx OK
‚úÖ CLI ch·∫°y OK

üëâ Ch·ªâ c√≤n m√¥i tr∆∞·ªùng CLI ch∆∞a tr·ªè ƒë√∫ng v√†o peer, s·ª≠a l√† ch·∫°y ƒë∆∞·ª£c ngay.

G·ª≠i m√¨nh k·∫øt qu·∫£ c·ªßa:

getent hosts peer0.banka.example.com
