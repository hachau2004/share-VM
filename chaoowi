âœ… BÆ¯á»šC 1 â€” Kiá»ƒm tra láº¡i secret trong ENV

Cháº¡y:

echo $BANKA_PUBLIC
echo $BANKA_SECRET


ðŸ“Œ Gá»­i mÃ¬nh output Ä‘á»ƒ xÃ¡c nháº­n.

âœ… BÆ¯á»šC 2 â€” Táº¡o giao dá»‹ch thá»­ 1 XLM (native)

Táº¡o file test:

nano ~/stellar-dev/scripts/test_payment_native.js


DÃ¡n Ä‘Ãºng Ä‘oáº¡n code:

const S = require("stellar-sdk");

const HORIZON = "http://localhost:8000";
const server = new S.Server(HORIZON, { allowHttp: true });

(async () => {
  const FROM = process.env.BANKA_SECRET;
  const TO = process.env.BANKB_PUBLIC;

  if (!FROM || !TO) {
    console.error("Missing env vars");
    process.exit(1);
  }

  const kp = S.Keypair.fromSecret(FROM);
  const account = await server.loadAccount(kp.publicKey());

  const tx = new S.TransactionBuilder(account, {
    fee: S.BASE_FEE,
    networkPassphrase: S.Networks.TESTNET,
  })
    .addOperation(
      S.Operation.payment({
        destination: TO,
        asset: S.Asset.native(),
        amount: "1",
      })
    )
    .setTimeout(30)
    .build();

  tx.sign(kp);

  try {
    const res = await server.submitTransaction(tx);
    console.log("TX HASH:", res.hash);
  } catch (err) {
    console.log("ERROR:");
    console.log(JSON.stringify(err?.response?.data || err, null, 2));
  }
})();


LÆ°u file â†’ cháº¡y:

node ~/stellar-dev/scripts/test_payment_native.js

ðŸŸ¢ Káº¿t quáº£ mong Ä‘á»£i
Náº¿u chá»¯ kÃ½ Ä‘Ãºng â†’ sáº½ nháº­n hash giao dá»‹ch tháº­t.

VÃ  cháº¡y:

curl -s "http://localhost:8000/accounts/${BANKA_PUBLIC}/transactions?order=desc&limit=5" | jq .


â†’ Sáº½ tháº¥y giao dá»‹ch má»›i cÃ³ source_account = BANKA_PUBLIC.
