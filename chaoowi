 ✅ CÁCH SỬA — XÓA THƯ MỤC genesis.block + TẠO LẠI FILE
1️⃣ Xóa toàn bộ nội dung cũ
sudo rm -rf channel-artifacts/*


2️⃣ Tạo lại genesis.block đúng dạng FILE
export FABRIC_CFG_PATH=$PWD/configtx

configtxgen -profile BankchainGenesis \
  -channelID system-channel \
  -outputBlock ./channel-artifacts/genesis.block

> Generating genesis block
2025-11-09 15:29:35.296 +07 000a ERRO [common.tools.configtxgen] doOutputBlock -> Warning: 'Consortiums' should be nil since system channel is no longer supported in Fabric v3.x
2025-11-09 15:29:35.297 +07 000b INFO [common.tools.configtxgen] doOutputBlock -> Writing genesis block


Sau lệnh này, kiểm tra lại:
ls -l channel-artifacts

Kết quả phải như:
-rw-r--r-- 1 hachau hachau 15K genesis.block

Không được là thư mục nữa.

3️⃣ Tạo lại channel.tx
export CHANNEL_NAME=bankchannel

configtxgen -profile BankchainChannel \
  -channelID $CHANNEL_NAME \
  -outputCreateChannelTx ./channel-artifacts/channel.tx


4️⃣ Xóa container + chạy lại compose
docker rm -f $(docker ps -aq)
docker compose -f docker-compose-bankchain.yaml up -d


✅ Khi orderer start ok → CLI, peer cũng sẽ chạy.

✅ Giờ anh chạy đúng 4 lệnh dưới đây rồi gửi em ảnh kết quả:
sudo rm -rf channel-artifacts/*
export FABRIC_CFG_PATH=$PWD/configtx
configtxgen -profile BankchainGenesis -channelID system-channel -outputBlock ./channel-artifacts/genesis.block
ls -l channel-artifacts
