hachau@hachau:~/fabric-samples/bankchain$ ls -l channel-artifacts
total 8
-rw-r----- 1 hachau hachau  342 Nov  9 15:12 channel.tx
drwxr-xr-x 2 root   root   4096 Nov  9 15:16 genesis.block


Nhưng thư mục của anh không có file đó → Docker báo lỗi:

mount ... genesis.block: not a directory / not exist


Vì orderer không start → toàn bộ network không chạy → CLI cũng không chạy.

✅ ✅ BƯỚC 1 — KIỂM TRA FILE genesis.block CÓ TỒN TẠI KHÔNG

Chạy:

ls -l channel-artifacts


Nếu chỉ có mỗi channel.tx → nghĩa là anh chưa tạo genesis.block.

✅ ✅ BƯỚC 2 — TẠO LẠI GENESIS.BLOCK

Chạy lệnh sau ngoài CLI (ở host – chính terminal anh đang dùng):

Tạo lại genesis block (system channel)
export FABRIC_CFG_PATH=$PWD/configtx

configtxgen -profile BankchainGenesis \
  -channelID system-channel \
  -outputBlock ./channel-artifacts/genesis.block


Nếu thành công → nó sẽ tạo file:

channel-artifacts/genesis.block

✅ ✅ BƯỚC 3 — TẠO LẠI CHANNEL TX (đã làm rồi nhưng làm lại cho chắc)
export CHANNEL_NAME=bankchannel

configtxgen -profile BankchainChannel \
  -outputCreateChannelTx ./channel-artifacts/channel.tx \
  -channelID $CHANNEL_NAME

✅ ✅ BƯỚC 4 — KHỞI ĐỘNG LẠI DOCKER

Trước khi khởi động lại, xóa các container cũ:

docker rm -f $(docker ps -aq)


Sau đó:

docker compose -f docker-compose-bankchain.yaml up -d

✅ ✅ BƯỚC 5 — KIỂM TRA ORDERER ĐÃ CHẠY
docker ps


Phải thấy:

✅ orderer.example.com (Up)
✅ couchdb0–3
✅ peer0/1 banka & bankb
✅ cli
